root = tk.Tk()
root.title('Scenarios Mosaic')

tabControl = ttk.Notebook(root)
tab1 = ttk.Frame(tabControl)
tab2 = ttk.Frame(tabControl)

tabControl.add(tab1, text='Scenario groups')
tabControl.add(tab2, text='Scenario datalabels')
tabControl.pack(expand=1, fill="both")

root.geometry('1100x700')

left_frame = tk.Frame(tab1)
left_frame.pack(side=tk.LEFT, fill=tk.BOTH, expand=True, padx=3, pady=3)

right_frame = tk.Frame(tab1)
right_frame.pack(side=tk.RIGHT, fill=tk.BOTH, expand=True, padx=3, pady=3)

left_frame_2 = tk.Frame(tab2)
left_frame_2.pack(side=tk.LEFT, fill=tk.BOTH, expand=True, padx=3, pady=3)

right_frame_2 = tk.Frame(tab2)
right_frame_2.pack(side=tk.RIGHT, fill=tk.BOTH, expand=True, padx=3, pady=3)

filter_blocks = []
Listbox = []

for column in data2.columns:
    if column != 'active':
        listbox = add_filter_block(left_frame, column, data2[column].unique())
        filter_blocks.append((column, listbox))

filter_button = tk.Button(left_frame, text='Filter Data', command=partial(display_filtered_data, data2, filter_blocks))
filter_button.pack(ipadx=40, ipady=10, padx=10, pady=10)

export_button = tk.Button(left_frame, text='Export Data', command=partial(export_filtered_data, data2, filter_blocks))
export_button.pack(ipadx=40, ipady=10, padx=10, pady=10)

clear_button = tk.Button(left_frame, text='Clear Filters', command=clear_filters)
clear_button.pack(ipadx=40, ipady=10, padx=10, pady=10)

canvas = tk.Canvas(right_frame)
canvas.pack(side=tk.LEFT, fill=tk.BOTH, expand=True)

scrollbar = tk.Scrollbar(right_frame, command=canvas.yview)
scrollbar.pack(side=tk.RIGHT, fill=tk.Y)

canvas.configure(yscrollcommand=scrollbar.set)

inner_frame = tk.Frame(canvas)
canvas.create_window((0, 0), window=inner_frame, anchor=tk.NW)

result_text = tk.Text(inner_frame, wrap=tk.NONE, state=tk.DISABLED)
result_text.pack(fill=tk.BOTH, expand=True)

summary_label = tk.Label(inner_frame, text='', wraplength=300)
summary_label.pack()

inner_frame.bind("<Configure>", lambda e: canvas.configure(scrollregion=canvas.bbox("all")))

root.mainloop()
